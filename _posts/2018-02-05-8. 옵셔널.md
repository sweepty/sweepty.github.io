---
layout: post
title: 8. ì˜µì…”ë„
featured-img: sleek
---
# 8. ì˜µì…”ë„

ì°¸ê³ í•œ ì‚¬ì´íŠ¸: [swift3 ) Optional ê°œë… ì •ë¦¬](http://zeddios.tistory.com/16)

## Optional ì´ë€?

1. **ì–´ë–»ê²Œ í‘œí˜„í•˜ë‚˜ìš”?** ğŸ¤”

`? ` ë‚˜  `!` ë¥¼ annotation ë’¤ì— ë¶™ì¸ë‹¤.

<br>

1. **ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**

- ì–´ë– í•œ ë³€ìˆ˜ì— ê°’ì´ ì•ˆ ë“¤ì–´ê°ˆ ê²½ìš°.
- ë³€ìˆ˜ ì•ˆì— ê°’ì´ í™•ì‹¤íˆ ìˆë‹¤ëŠ” ê²ƒì„ ë³´ì¥ í•  ìˆ˜ ì—†ëŠ” ê²½ìš°.

<br>

### ?

ìƒì ì•ˆì— ê°’ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ë¬¼ì–´ë³´ê³  ìˆìœ¼ë©´ ê°€ì ¸ì˜´.

```swift
var someValue : Int? = 30
var Value = someValue
```

```swift
var someValue :Int? = 30
var Value : Int = someValue
//error! 
//Valueì—ëŠ” Intê°’ ë°–ì— ëª»ë“¤ì–´ê°€ë¯€ë¡œ Int?ë¥¼ ê°€ì§€ëŠ” someValueëŠ” ë“¤ì–´ê°€ì§€ ëª»í•¨.
```

â­ï¸**ì¤‘ìš”** Intì™€ Int?ëŠ” ë‹¤ë¥¸ íƒ€ì…ì´ë‹¤.

<br>

<br>

### !

ìƒì ì•ˆì— ê°’ì´ ìˆë‚˜ ì—†ë‚˜ë¥¼ ë¬¼ì–´ë³´ì§€ ì•Šê³  ê°•ì œë¡œ `unwrapping`ì„ í•´ì„œ ê°’ì„ ê°€ì ¸ì˜´.

<br>

`?`ì—ì„œëŠ” ì•„ë˜ ì½”ë“œê°€ ì—ëŸ¬ê°€ ë‚¬ì—ˆë‹¤. 

```swift
var someValue: Int? = 30
var Value: Int = someValue
//error!ğŸ˜”
```

ì´ ì½”ë“œì— `!`ë¥¼ ë¶™ì—¬ ë³´ê² ë‹¤.

```swift
var someValue :Int? = 30
var Value : Int = someValue!
//ì—ëŸ¬ê°€ ë‚˜ì§€ ì•ŠìŒğŸ˜†
```

**ê°•ì œ ì–¸ë˜í•‘**ì„ í•´ì„œ ì—ëŸ¬ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤!

ê·¸ëŸ¼ `someValue`ì˜ ê°’ì´ `nil`ì¼ ë•Œë„ ì—ëŸ¬ê°€ ë‚˜ì§€ ì•Šì„ê¹Œ?

->ê·¸ê±´ ì•„ë‹˜.

<br>

```swift
var someValue : Int? = nil
var Value : Int = someValue!
//ì»´íŒŒì¼ëŸ¬ê°€ ì˜¤ë¥˜ë¥¼ ë„ìš°ì§€ ì•Šê³  ë¹Œë“œê¹Œì§€ ë˜ê¸´ í•˜ì§€ë§Œ fatal errorê°€ ë‚¨
```

nil ì¼ ë•Œ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ê°€ ë‚¨... 

ê°•ì œ ì–¸ë˜í•‘ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤!!

<br>

#### Swift ì–¸ì–´ ê°€ì´ë“œ

> ëŠë‚Œí‘œ(!)ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì˜µì…”ë„ ê°’ì— ì ‘ê·¼í•˜ë ¤ ì‹œë„í•˜ë©´ 
>
> ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. 
>
> ëŠë‚Œí‘œë¥¼ ì‚¬ìš©í•˜ì—¬ ê°•ì œ ì–¸ë©í•‘ì„ í•˜ê¸° ì „ì—ëŠ” 
>
> í•­ìƒ ì˜µì…”ë„ ê°’ì´ `nil`ì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ í™•ì‹¤íˆ í•´ì•¼ í•©ë‹ˆë‹¤.

<br>

<br>

<br>

## Optional ë³€ìˆ˜ì˜ ê°’ ê°€ì ¸ì˜¤ê¸°

#### ì¢…ë¥˜

1) Optional Binding(ì˜µì…”ë„ ë°”ì¸ë”©)

2) Optional Chaining(ì˜µì…”ë„ ì²´ì´ë‹)

3) Forced Unwrapping(ê°•ì œ ì–¸ë˜í•‘)

<br>

<br>

### Optional Binding

ì£¼ë¡œ `if let(if var)`ë¥¼ ì‚¬ìš©í•˜ë©° ë¨¼ì € `ì²´í¬`í•´ì£¼ê³  ë„˜ì–´ê°„ë‹¤ëŠ” ê°œë….

**nil**ì¸ì§€ ì•„ë‹ˆë©´ **ê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€**ì— ë”°ë¼ ê²°ê³¼ë¥¼ ë‹¤ë¥´ê²Œ í•˜ê³  ì‹¶ì„ ë•Œ ì´ìš©.

<br>

**ì˜ˆì œ 1)**

```swift
func printName( _name : String){
    print(_name)
}

 var myName: String? =  nil
 if let name = myName {
     printName(_name: name)
 }
//ê²°ê³¼: ì•„ë¬´ê²ƒë„ ì•ˆë‚˜ì˜´.
```

<br>

**ì˜ˆì œ 2)**

```swift
var height : Int? = 170
if let value = height {
    if value >= 160 {
        print("wow")
    }
}
//ê²°ê³¼: wow
```

<br>

<br>

### Optional Chaining

í•˜ìœ„ propertyì— optional ê°’ì´ ìˆëŠ”ì§€ ì—°ì†ì ìœ¼ë¡œ í™•ì¸í•˜ë©´ì„œ, ì¤‘ê°„ì— í•˜ë‚˜ë¼ë„ nilì´ ë°œê²¬ëœë‹¤ë©´ nilì´ ë°˜í™˜ë˜ëŠ” í˜•ì‹.

<br>

ìŠ¤ìœ„í”„íŠ¸ ì–¸ì–´ ê°€ì´ë“œì— ë‚˜ì˜¨ ì˜ˆì œ  

[The Swift Programming Language (Swift 4.0.3): Optional Chaining](https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/OptionalChaining.html)



**ì˜ˆì œ1**

```swift
class Person {
    var residence: Residence? 
}
/*residenceë¼ëŠ” ë³€ìˆ˜ê°€ Residence í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê³  ìˆìŒ 
í•˜ì§€ë§Œ Optional ?ì´ ìˆê¸° ë•Œë¬¸ì—  
Person íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë§Œë“¤ì–´ì§€ë©´ residenceë³€ìˆ˜ì˜ ì´ˆê¸°ê°’ì€ nil*/
class Residence {
    var numberOfRooms = 1
}
let adie = Person()
 
if let roomCount = adie.residence?.numberOfRooms {
    print("adie's residence has \(roomCount) room(s).")
} else {
   print("Unable to retrieve the number of rooms.")
}
//ê²°ê³¼ : Unable to retrieve the number of rooms.
```

optional chainingì„ ì‚¬ìš©í•œ ë¶€ë¶„:  `let roomCount = adie.residence?.numberOfRooms`

`adie.residence?`ê°€ nilì´ ì•„ë‹ˆë¼ë©´ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ì„œ `numberOfRooms`ë¥¼ í™•ì¸.

`let roomCount = adie.residence?.numberOfRooms`ì—ì„œ `?`ë¥¼ ë¶™ì¸ ì´ìœ ëŠ” `residence`ê°€ nilì¼ ìˆ˜ë„ ê°’ì´ ìˆì„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸.

<br>

**ì˜ˆì œ2**

```swift
class Person {
    var residence: Residence?
}
class Residence {
    var numberOfRooms = 1
}
let adie = Person()

//ì•„ë˜ ì½”ë“œë¥¼ ì‚½ì…í•˜ì—¬ ifë¬¸ìœ¼ë¡œ ê°€ê²Œ í•¨.
adie.residence = Residence()

if let roomCount = adie.residence?.numberOfRooms {
    print("adie's residence has \(roomCount) room(s).")
} else {
    print("Unable to retrieve the number of rooms.")
}
//ê²°ê³¼: adie's residence has 1 room(s).
```

ì•„ ê·¸ë¦¬ê³  `if let roomCount = adie.residence?.numberOfRooms`ëŠ” optional bindingê³¼ optional chainingì´ í•¨ê»˜ ì‚¬ìš©ëœ ê²ƒì„.

<br>

<br>

### Forced Unwrapping

ì•ì„œ ì„¤ëª…í•œ `!`ë¡œ í‘œí˜„.

ë³€ìˆ˜ì— ê°’ì´ ìˆë‹¤ëŠ” ê²ƒì„ í™•ì‹ í•  ìˆ˜ ìˆëŠ” ê²½ìš° (êµ³ì´ optional bindingì´ë‚˜ optional chainingì„ í•´ì¤„ í•„ìš”ê°€ ì—†ì„ ë•Œ )

ì´ëŸ° ê²½ìš°ì˜ optionalì„ `implicitly unwrapped optionals`ë¼ê³  í•œë‹¤.

 `implicitly unwrapped optionals`ëŠ” ì£¼ë¡œ í´ë˜ìŠ¤ ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ì‚¬ìš©ëœë‹¤.

<br>

ì˜µì…”ë„ ë°”ì¸ë”©, ì²´ì´ë‹ìœ¼ë¡œ ë§¤ë²ˆ ê°’ì„ ì¶”ì¶œí•˜ê¸° ê·€ì°®ê±°ë‚˜ ë¡œì§ìƒìœ¼ë¡œ nilì´ í• ë‹¹ë˜ì§€ ì•Šì„ ê²ƒ ê°™ë‹¤ëŠ” í™•ì‹ ì´ ë“¤ ë•Œ ì‚¬ìš©

#### > í•˜ì§€ë§Œ ì•ˆì“°ëŠ”ê²Œ ì¢‹ë‹¤ã… ã… 

<br>

<br>

<br>

SwiftëŠ” 

\- Safe

\- Fast

\- Expressive

í•œ ì–¸ì–´!

<br>

optionalë¡œ í”„ë¡œê·¸ë˜ë¨¸ë“¤ ê°„ì˜ ì›í™œí•œ ì†Œí†µì´ ê°€ëŠ¥í•˜ë‹¤!



